<div class="wrap flex align-center" [class.border]="border" [class.active]="inputFocused" [class.error]="error">
    <div class="flex">
        @if(selectedCountry){
        <div class="flex align-center" (click)="toggleModal()">
            <span class="flag" [innerHTML]="getIcon(selectedCountry.flag)"></span>

            <svg class="ml-5" xmlns="http://www.w3.org/2000/svg" width="10" height="6" viewBox="0 0 10 6" fill="none">
                <path d="M4.99959 5.13698L0.725586 0.862976H9.27359L4.99959 5.13698Z" fill="black" fill-opacity="0.6" />
            </svg>
        </div>
        <span class="text ml-5">{{selectedCountry.dialCode}}</span>
        }@else{
        <div class="flex align-center" (click)="toggleModal()">
            <span class="flag" [innerHTML]="getIcon(globeSVG)"></span>
            <svg class="ml-5" xmlns="http://www.w3.org/2000/svg" width="10" height="6" viewBox="0 0 10 6" fill="none">
                <path d="M4.99959 5.13698L0.725586 0.862976H9.27359L4.99959 5.13698Z" fill="black" fill-opacity="0.6" />
            </svg>
        </div>
        }

    </div>

    <input class="input-box text" type="number" placeholder="" [(ngModel)]="value" [disabled]="disabled"
        (input)="onChange(value); onInputChanged()" (blur)="onBlur(); onTouched()" (focus)="onFocus()" />

    @if(value && clearIcon===true){
    <div class="absolute right-0">
        <div class="flex">
            <span class="clear-icon" (click)="clearInput()">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
                    <path
                        d="M6.11774 13L9.00045 10.1173L11.8832 13L13.0005 11.8827L10.1177 8.99996L13.0005 6.11725L11.8832 4.99996L9.00045 7.88267L6.11774 4.99996L5.00045 6.11725L7.88316 8.99996L5.00045 11.8827L6.11774 13ZM9.00045 17.1693C7.87666 17.1693 6.81871 16.9567 5.8266 16.5315C4.83449 16.1062 3.96649 15.5217 3.22262 14.7778C2.47874 14.0339 1.89418 13.1659 1.46893 12.1738C1.04368 11.1817 0.831055 10.1238 0.831055 8.99996C0.831055 7.86228 1.04368 6.80086 1.46893 5.81569C1.89418 4.83053 2.47874 3.966 3.22262 3.22213C3.96649 2.47825 4.83449 1.89369 5.8266 1.46844C6.81871 1.04319 7.87666 0.830566 9.00045 0.830566C10.1381 0.830566 11.1996 1.04319 12.1847 1.46844C13.1699 1.89369 14.0344 2.47825 14.7783 3.22213C15.5222 3.966 16.1067 4.83053 16.532 5.81569C16.9572 6.80086 17.1698 7.86228 17.1698 8.99996C17.1698 10.1238 16.9572 11.1817 16.532 12.1738C16.1067 13.1659 15.5222 14.0339 14.7783 14.7778C14.0344 15.5217 13.1699 16.1062 12.1847 16.5315C11.1996 16.9567 10.1381 17.1693 9.00045 17.1693Z"
                        fill="#484847" />
                </svg>
            </span>
        </div>
    </div>
    }

    @if(showModal){
    <div class="modal-wrap">
        <div>
            <input class="search-box" (input)="onSearchChange($event)" placeholder="Search" />
        </div>
        <div class="country-list">
            <div class="flex" *ngFor="let data of dataSet | keyvalue">
                <div class="modal-country-wrap flex" (click)="selectCountry(data)">
                    <span class="flag" [innerHTML]="getIcon(data.value.flag)"></span>
                    <span class="modal-country ml-5">{{data.value.dialCode}}</span>
                    <span class="modal-country ml-5">{{data.value.country}}</span>
                </div>
            </div>
        </div>
    </div>
    }
</div>